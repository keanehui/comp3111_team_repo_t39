<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Controller.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">PopNames3111</a> &gt; <a href="index.source.html" class="el_package">comp3111.popnames</a> &gt; <span class="el_source">Controller.java</span></div><h1>Controller.java</h1><pre class="source lang-java linenums">
/**
 * Building on the sample skeleton for 'ui.fxml' COntroller Class generated by SceneBuilder 
 */
package comp3111.popnames;

import java.util.HashMap;
import java.util.LinkedHashMap;

import javafx.fxml.FXML;
import javafx.scene.control.Button;
import javafx.scene.control.Labeled;
import javafx.scene.control.RadioButton;
import javafx.scene.control.Tab;
import javafx.scene.control.TextArea;
import javafx.scene.control.TextField;
import javafx.scene.control.ToggleGroup;

<span class="fc" id="L19">public class Controller {</span>

	@FXML
	private Tab tabTaskZero;

	@FXML
	private TextField textfieldNameF;

	@FXML
	private TextField textfieldYear;

	@FXML
	private Button buttonRankM;

	@FXML
	private TextField textfieldNameM;

	@FXML
	private Button buttonRankF;

	@FXML
	private Button buttonTopM;

	@FXML
	private Button buttonTopF;

	@FXML
	private Button buttonSummary;

	@FXML
	private Tab tabReport1;

	@FXML
	private TextField textfieldTopN;

	@FXML
	private TextField textfieldFromYear;

	@FXML
	private TextField textfieldToYear;

	@FXML
	private ToggleGroup T1;

	@FXML
	private Tab tabReport2;

	@FXML
	private ToggleGroup T11;

	@FXML
	private Tab tabReport3;

	@FXML
	private TextField textfieldTrendStartYear;

	@FXML
	private TextField textfieldTrendEndYear;

	@FXML
	private ToggleGroup ToggleGroupTrendGender;

	@FXML
	private TextField textfieldTrendTopN;

	@FXML
	private Tab tabApp1;

	@FXML
	private TextField textfieldDadName;

	@FXML
	private TextField textfieldDadYOB;

	@FXML
	private TextField textfieldMumName;

	@FXML
	private TextField textfieldMumYOB;

	@FXML
	private TextField textfieldVintageYear;

	@FXML
	private Button buttonGetChildName;

	@FXML
	private Tab tabApp2;

	@FXML
	private Tab tabApp3;

	@FXML
	private TextField textfieldCompatibleUserName;

	@FXML
	private ToggleGroup ToggleGroupCompatibleUserGender;

	@FXML
	private TextField textfieldCompatibleUserYOB;

	@FXML
	private TextField textfieldCompatibleMatchName;

	@FXML
	private ToggleGroup ToggleGroupCompatibleMatchGender;

	@FXML
	private ToggleGroup ToggleGroupCompatiblePreference;


	@FXML
	private TextArea textAreaConsole;

	/**
	 * Task 2 private data
	 */
	 @FXML
	 private TextField textfieldNamereport2;

	@FXML
	private TextField textfieldfirstyear_report2;

	@FXML
	private TextField textfieldlastyear_report2;

	@FXML
	private Button report2;

	/**
	 *  Task 5 private data
	 */
	 @FXML
	 private ToggleGroup T51;

	@FXML
	private ToggleGroup T52;

	@FXML
	private ToggleGroup T53;

	@FXML
	private TextField textfieldname_app2;

	@FXML
	private TextField textfieldyear_app2;

	@FXML
	private Button report5;


	/**
	 *  Task Zero
	 *  To be triggered by the &quot;Summary&quot; button on the Task Zero Tab 
	 *  
	 */
	@FXML
	void doSummary() {
<span class="nc" id="L177">		int year = Integer.parseInt(textfieldYear.getText());</span>
<span class="nc" id="L178">		String oReport = AnalyzeNames.getSummary(year);</span>
<span class="nc" id="L179">		textAreaConsole.setText(oReport);</span>
<span class="nc" id="L180">	}</span>


	/**
	 *  Task Zero
	 *  To be triggered by the &quot;Rank (female)&quot; button on the Task Zero Tab
	 *  
	 */
	@FXML
	void doRankF() {
<span class="fc" id="L190">		String oReport = &quot;&quot;;</span>
<span class="fc" id="L191">		String iNameF = textfieldNameF.getText();</span>
<span class="fc" id="L192">		int iYear = Integer.parseInt(textfieldYear.getText());</span>
<span class="fc" id="L193">		int oRank = AnalyzeNames.getRank(iYear, iNameF, &quot;F&quot;);</span>
<span class="pc bpc" id="L194" title="1 of 2 branches missed.">		if (oRank == -1)</span>
<span class="nc" id="L195">			oReport = String.format(&quot;The name %s (female) has not been ranked in the year %d.\n&quot;, iNameF, iYear);</span>
		else
<span class="fc" id="L197">			oReport = String.format(&quot;Rank of %s (female) in year %d is #%d.\n&quot;, iNameF, iYear, oRank);</span>
<span class="fc" id="L198">		textAreaConsole.setText(oReport);</span>
<span class="fc" id="L199">	}</span>


	/**
	 *  Task Zero
	 *  To be triggered by the &quot;Rank (male)&quot; button on the Task Zero Tab
	 *  
	 */
	@FXML
	void doRankM() {
<span class="fc" id="L209">		String oReport = &quot;&quot;;</span>
<span class="fc" id="L210">		String iNameM = textfieldNameM.getText();</span>
<span class="fc" id="L211">		int iYear = Integer.parseInt(textfieldYear.getText());</span>
<span class="fc" id="L212">		int oRank = AnalyzeNames.getRank(iYear, iNameM, &quot;M&quot;);</span>
<span class="pc bpc" id="L213" title="1 of 2 branches missed.">		if (oRank == -1)</span>
<span class="nc" id="L214">			oReport = String.format(&quot;The name %s (male) has not been ranked in the year %d.\n&quot;, iNameM, iYear);</span>
		else
<span class="fc" id="L216">			oReport = String.format(&quot;Rank of %s (male) in year %d is #%d.\n&quot;, iNameM, iYear, oRank);</span>
<span class="fc" id="L217">		textAreaConsole.setText(oReport);</span>
<span class="fc" id="L218">	}</span>


	/**
	 *  Task Zero
	 *  To be triggered by the &quot;Top 5 (female)&quot; button on the Task Zero Tab
	 *  
	 */
	@FXML
	void doTopF() {
<span class="nc" id="L228">		String oReport = &quot;&quot;;</span>
<span class="nc" id="L229">		final int topN = 5;</span>
<span class="nc" id="L230">		int iYear = Integer.parseInt(textfieldYear.getText());</span>
<span class="nc" id="L231">		oReport = String.format(&quot;Top %d most popular names (female) in the year %d:\n&quot;, topN, iYear);</span>
<span class="nc bnc" id="L232" title="All 2 branches missed.">		for (int i=1; i&lt;=topN; i++)</span>
<span class="nc" id="L233">			oReport += String.format(&quot;#%d: %s\n&quot;, i, AnalyzeNames.getName(iYear, i, &quot;F&quot;));</span>
<span class="nc" id="L234">		textAreaConsole.setText(oReport);</span>
<span class="nc" id="L235">	}</span>


	/**
	 *  Task Zero
	 *  To be triggered by the &quot;Top 5 (male)&quot; button on the Task Zero Tab
	 *  
	 */
	@FXML
	void doTopM() {
<span class="nc" id="L245">		String oReport = &quot;&quot;;</span>
<span class="nc" id="L246">		final int topN = 5;</span>
<span class="nc" id="L247">		int iYear = Integer.parseInt(textfieldYear.getText());</span>
<span class="nc" id="L248">		oReport = String.format(&quot;Top %d most popular names (male) in the year %d:\n&quot;, topN, iYear);</span>
<span class="nc bnc" id="L249" title="All 2 branches missed.">		for (int i=1; i&lt;=topN; i++)</span>
<span class="nc" id="L250">			oReport += String.format(&quot;#%d: %s\n&quot;, i, AnalyzeNames.getName(iYear, i, &quot;M&quot;));</span>
<span class="nc" id="L251">		textAreaConsole.setText(oReport);</span>
<span class="nc" id="L252">	}</span>


	/**
	 *  Task 3A
	 *  To be triggered by the &quot;Report&quot; button on the Report3 Tab
	 *  
	 */
	@FXML
	void doTrend() {
		// Validation
<span class="fc bfc" id="L263" title="All 2 branches covered.">		if (textfieldTrendStartYear.getText().trim().isEmpty()) {</span>
<span class="fc" id="L264">			textAreaConsole.setText(&quot;The start year of the period should not be blank.&quot;);	</span>
<span class="fc" id="L265">			return;</span>
		}
<span class="fc bfc" id="L267" title="All 2 branches covered.">		if (textfieldTrendEndYear.getText().trim().isEmpty()) {</span>
<span class="fc" id="L268">			textAreaConsole.setText(&quot;The end year of the period should not be blank.&quot;);	</span>
<span class="fc" id="L269">			return;</span>
		}
<span class="fc bfc" id="L271" title="All 2 branches covered.">		if (textfieldTrendTopN.getText().trim().isEmpty()) {</span>
<span class="fc" id="L272">			textAreaConsole.setText(&quot;The TopN parameter should not be blank.&quot;);	</span>
<span class="fc" id="L273">			return;</span>
		}
		try {
<span class="fc" id="L276">			Integer.parseInt(textfieldTrendStartYear.getText());</span>
<span class="fc" id="L277">		} catch (Exception e) {</span>
<span class="fc" id="L278">			textAreaConsole.setText(&quot;The start year of the period should contain only integral numbers.&quot;);	</span>
<span class="fc" id="L279">			return;</span>
<span class="fc" id="L280">		}</span>
		try {
<span class="fc" id="L282">			Integer.parseInt(textfieldTrendEndYear.getText());</span>
<span class="fc" id="L283">		} catch (Exception e) {</span>
<span class="fc" id="L284">			textAreaConsole.setText(&quot;The end year of the period should contain only integral numbers.&quot;);	</span>
<span class="fc" id="L285">			return;</span>
<span class="fc" id="L286">		}</span>
		try {
<span class="fc" id="L288">			Integer.parseInt(textfieldTrendTopN.getText());</span>
<span class="fc" id="L289">		} catch (Exception e) {</span>
<span class="fc" id="L290">			textAreaConsole.setText(&quot;The TopN parameter should contain only integral numbers.&quot;);	</span>
<span class="fc" id="L291">			return;</span>
<span class="fc" id="L292">		}</span>
<span class="fc bfc" id="L293" title="All 2 branches covered.">		if (textfieldTrendStartYear.getText().trim().charAt(0) == '0') {</span>
<span class="fc" id="L294">			textAreaConsole.setText(&quot;The start year should not start with zero(s).&quot;);	</span>
<span class="fc" id="L295">			return;</span>
		}
<span class="fc bfc" id="L297" title="All 2 branches covered.">		if (textfieldTrendEndYear.getText().trim().charAt(0) == '0') {</span>
<span class="fc" id="L298">			textAreaConsole.setText(&quot;The end year should not start with zero(s).&quot;);	</span>
<span class="fc" id="L299">			return;</span>
		}
<span class="fc bfc" id="L301" title="All 2 branches covered.">		if (textfieldTrendTopN.getText().trim().charAt(0) == '0') {</span>
<span class="fc" id="L302">			textAreaConsole.setText(&quot;The TopN parameter should not start with zero(s).&quot;);	</span>
<span class="fc" id="L303">			return;</span>
		}
<span class="fc" id="L305">		int istartYear = Integer.parseInt(textfieldTrendStartYear.getText());</span>
<span class="fc" id="L306">		int iendYear = Integer.parseInt(textfieldTrendEndYear.getText());</span>
<span class="pc bpc" id="L307" title="1 of 2 branches missed.">		String igender = ((RadioButton) ToggleGroupTrendGender.getSelectedToggle()).getText().contentEquals(&quot;Male&quot;) ? &quot;M&quot; : &quot;F&quot;;</span>
<span class="fc" id="L308">		int topN = Integer.parseInt(textfieldTrendTopN.getText());</span>

<span class="pc bpc" id="L310" title="2 of 8 branches missed.">		if (istartYear &lt; 1880 || istartYear &gt; 2019 || iendYear &lt; 1880 || iendYear &gt; 2019) {</span>
<span class="fc" id="L311">			textAreaConsole.setText(&quot;The period should be in between 1880 to 2019 inclusively.&quot;);	</span>
<span class="fc" id="L312">			return;</span>
		}
<span class="fc bfc" id="L314" title="All 2 branches covered.">		if (istartYear &gt;= iendYear){</span>
<span class="fc" id="L315">			textAreaConsole.setText(&quot;The start year must smaller than the end year.&quot;);	</span>
<span class="fc" id="L316">			return;</span>
		}
<span class="pc bpc" id="L318" title="1 of 2 branches missed.">		if (topN &lt;= 0) {</span>
<span class="fc" id="L319">			textAreaConsole.setText(&quot;The TopN parameter should be larger than 0.&quot;);	</span>
<span class="fc" id="L320">			return;</span>
		}

		// Call the calculation method
		LinkedHashMap&lt;String, RankProperties&gt; oReport;
		try {
<span class="nc" id="L326">			oReport = AnalyzeNames.getTrend(istartYear, iendYear, igender, topN);</span>
<span class="nc" id="L327">		} catch (Exception e) {</span>
<span class="nc" id="L328">			textAreaConsole.setText(e.getMessage());	</span>
<span class="nc" id="L329">			return;</span>
<span class="nc" id="L330">		}</span>

<span class="nc bnc" id="L332" title="All 2 branches missed.">		if (oReport.isEmpty()) {</span>
<span class="nc" id="L333">			textAreaConsole.setText(&quot;No record is found.&quot;);	</span>
<span class="nc" id="L334">			return;</span>
		}

		// Print out the output
<span class="nc" id="L338">		String[] header = {&quot;Name&quot;, &quot;Lowest Rank&quot;, &quot;Highest Rank&quot;, &quot;Gross Trend&quot;};</span>
<span class="nc" id="L339">		String output = &quot;&quot;;</span>
<span class="nc" id="L340">		String format = &quot;|%s\t\t|%s\t\t\t|%s\t\t\t|%s\t\t\n&quot;;</span>
<span class="nc" id="L341">		output += String.format(format, (Object[]) header);</span>

<span class="nc" id="L343">		String formatRecord = &quot;|%s\t\t|rank: %s, year: %s\t\t|rank: %s, year: %s\t\t|%s\t\t\n&quot;;</span>
<span class="nc bnc" id="L344" title="All 2 branches missed.">		for (String key : oReport.keySet()) {</span>
<span class="nc" id="L345">			var currentValue = oReport.get(key);</span>
<span class="nc" id="L346">			String[] record = {key, Integer.toString(currentValue.lowestRank), Integer.toString(currentValue.lowestRankYear), </span>
<span class="nc" id="L347">					Integer.toString(currentValue.highestRank), Integer.toString(currentValue.highestRankYear), currentValue.grossTrend};</span>
<span class="nc" id="L348">			output += String.format(formatRecord, (Object[]) record);</span>
<span class="nc" id="L349">		}</span>
<span class="nc" id="L350">		textAreaConsole.setText(output);</span>
<span class="nc" id="L351">	}</span>

	/**
	 *  Task 6
	 *  To be triggered by the &quot;Show Compatibility Score&quot; button on the Application 3 Tab
	 *  
	 */
	@FXML
	void doShowCompatibilityScore() {
		// Validation
<span class="fc bfc" id="L361" title="All 2 branches covered.">		if (textfieldCompatibleUserYOB.getText().trim().isEmpty()) {</span>
<span class="fc" id="L362">			textAreaConsole.setText(&quot;The year of birth should not be blank.&quot;);	</span>
<span class="fc" id="L363">			return;</span>
		}
		try {
<span class="fc" id="L366">			Integer.parseInt(textfieldCompatibleUserYOB.getText());</span>
<span class="fc" id="L367">		} catch (Exception e) {</span>
<span class="fc" id="L368">			textAreaConsole.setText(&quot;The year of birth should contain only integral numbers.&quot;);	</span>
<span class="fc" id="L369">			return;</span>
<span class="fc" id="L370">		}</span>
<span class="fc bfc" id="L371" title="All 2 branches covered.">		if (textfieldCompatibleUserYOB.getText().trim().charAt(0) == '0') {</span>
<span class="fc" id="L372">			textAreaConsole.setText(&quot;The year of birth should not start with zero(s).&quot;);	</span>
<span class="fc" id="L373">			return;</span>
		}
<span class="fc" id="L375">		String iName =  textfieldCompatibleUserName.getText();</span>
<span class="pc bpc" id="L376" title="1 of 2 branches missed.">		String igender = ((RadioButton) ToggleGroupCompatibleUserGender.getSelectedToggle()).getText().contentEquals(&quot;Male&quot;) ? &quot;M&quot; : &quot;F&quot;;</span>
<span class="fc" id="L377">		int iYOB = Integer.parseInt(textfieldCompatibleUserYOB.getText());</span>

<span class="fc" id="L379">		String iNameMate = textfieldCompatibleMatchName.getText();</span>
<span class="pc bpc" id="L380" title="1 of 2 branches missed.">		String iGenderMate = ((RadioButton) ToggleGroupCompatibleMatchGender.getSelectedToggle()).getText().contentEquals(&quot;Male&quot;) ? &quot;M&quot; : &quot;F&quot;;</span>
<span class="fc" id="L381">		String iPreference = ((RadioButton) ToggleGroupCompatiblePreference.getSelectedToggle()).getText();</span>

<span class="pc bpc" id="L383" title="2 of 4 branches missed.">		if (iYOB &lt; 1880 || iYOB &gt; 2019) {</span>
<span class="fc" id="L384">			textAreaConsole.setText(&quot;Your year of birth should be in between 1880 to 2019 inclusively.&quot;);	</span>
<span class="fc" id="L385">			return;</span>
		}
<span class="nc bnc" id="L387" title="All 4 branches missed.">		if (iYOB == 1880 &amp;&amp; iPreference.equals(&quot;Older&quot;)) {</span>
<span class="nc" id="L388">			textAreaConsole.setText(&quot;You could not have a soulmate older than you, please change your preference.&quot;);	</span>
<span class="nc" id="L389">			return;</span>
		}
<span class="nc bnc" id="L391" title="All 4 branches missed.">		if (iYOB == 2019 &amp;&amp; iPreference.equals(&quot;Younger&quot;)) {</span>
<span class="nc" id="L392">			textAreaConsole.setText(&quot;You could not have a soulmate younger than you, please change your preference.&quot;);	</span>
<span class="nc" id="L393">			return;</span>
		}

		// Call the calculation method
<span class="nc" id="L397">		var oApp = AnalyzeNames.calculateCompatiblityScore(iName, igender, iYOB, iNameMate, iGenderMate, iPreference);</span>

		// Print out the output
<span class="nc" id="L400">		String output = &quot;&quot;;</span>
<span class="nc" id="L401">		output += &quot;(0%: Not Compatible; 100%: Perfect Match)\n\n&quot;;</span>
<span class="nc" id="L402">		output += &quot;Compatiblity Score = &quot; + String.format(&quot;%.2f&quot;, oApp) + &quot;%&quot;;</span>
<span class="nc" id="L403">		textAreaConsole.setText(output);</span>
<span class="nc" id="L404">	}</span>


	/**
	 * Task One
	 * To be triggered by the &quot;REPORT&quot; button on the Reporting1 Tab
	 * 
	 */
	@FXML
	void doTopNWithGender() {
<span class="fc" id="L414">		int topN = 0;</span>
		try {
<span class="fc" id="L416">			topN = Integer.parseInt(textfieldTopN.getText());</span>
<span class="fc" id="L417">		} catch(Exception e) {</span>
<span class="fc" id="L418">			textAreaConsole.setText(&quot;topN must be an integer. \n&quot;);</span>
<span class="fc" id="L419">			return;</span>
<span class="fc" id="L420">		}</span>
<span class="fc" id="L421">		int fromYear = 0;</span>
		try {
<span class="fc" id="L423">			fromYear = Integer.parseInt(textfieldFromYear.getText());</span>
<span class="nc" id="L424">		} catch(Exception e) {</span>
<span class="nc" id="L425">			textAreaConsole.setText(&quot;Year range must be integers. \n&quot;);</span>
<span class="nc" id="L426">			return;</span>
<span class="fc" id="L427">		}</span>
<span class="fc" id="L428">		int toYear = 0;</span>
		try {
<span class="fc" id="L430">			toYear = Integer.parseInt(textfieldToYear.getText());</span>
<span class="nc" id="L431">		} catch(Exception e) {</span>
<span class="nc" id="L432">			textAreaConsole.setText(&quot;Year range must be integers. \n&quot;);</span>
<span class="nc" id="L433">			return;</span>
<span class="fc" id="L434">		}</span>
<span class="pc bpc" id="L435" title="1 of 2 branches missed.">		String gender = (T1.getSelectedToggle().toString().indexOf(&quot;Male&quot;) &gt; -1) ? &quot;M&quot; : &quot;F&quot;;</span>
<span class="fc bfc" id="L436" title="All 2 branches covered.">		if (topN &lt; 1) { </span>
<span class="fc" id="L437">			textAreaConsole.setText(&quot;Top N value must be greater or equal to 1. \n&quot;);</span>
<span class="fc" id="L438">			return;</span>
		}
<span class="fc bfc" id="L440" title="All 6 branches covered.">		if (fromYear &lt; 1880 || toYear &gt; 2019 || fromYear &gt; toYear) { </span>
<span class="fc" id="L441">			textAreaConsole.setText(&quot;Year range is invalid. The valid year period ranges from 1880 to 2019. \n&quot;);</span>
<span class="fc" id="L442">			return;</span>
		}

<span class="pc bpc" id="L445" title="1 of 2 branches missed.">		String oReport = String.format(&quot;Top %d most popular names(%s) from %d to %s:\n\n&quot;, topN, (gender.equals(&quot;M&quot;)?&quot;Male&quot;:&quot;Female&quot;), fromYear, toYear);</span>

<span class="fc" id="L447">		HashMap&lt;String, Integer&gt; name_freq = AnalyzeNames.getTopNNameWithInYears(topN, fromYear, toYear, gender);</span>
<span class="fc bfc" id="L448" title="All 2 branches covered.">		for (int i = 1; i &lt;= topN; ++i) { </span>
<span class="fc" id="L449">			String name = AnalyzeNames.getMaxFromHashMap(name_freq);</span>
<span class="fc" id="L450">			Integer freq = name_freq.get(name);</span>
<span class="fc" id="L451">			name_freq.remove(name);</span>
<span class="fc" id="L452">			oReport += String.format(&quot;Top %d\nName: %s\nFrequency: %d\n\n&quot;, i, name, freq);</span>
		}
<span class="fc" id="L454">		textAreaConsole.setText(oReport);</span>
<span class="fc" id="L455">	}</span>

	/**
	 * Application 1
	 * To be triggered by the &quot;REPORT&quot; button on the Reporting1 Tab
	 * 
	 */
	@FXML
	void doGetChildName() {
<span class="fc" id="L464">		String dadName = textfieldDadName.getText();</span>
<span class="fc" id="L465">		String mumName = textfieldMumName.getText();</span>
<span class="fc" id="L466">		Integer dadYOB = 0;</span>
<span class="fc" id="L467">		Integer mumYOB = 0;</span>
<span class="fc" id="L468">		Integer vYear = Integer.MIN_VALUE;</span>
		try {
<span class="fc" id="L470">			dadYOB = Integer.parseInt(textfieldDadYOB.getText());</span>
<span class="fc" id="L471">		} catch(Exception e) {</span>
<span class="fc" id="L472">			textAreaConsole.setText(&quot;Year of birth must be an integer. \n&quot;);</span>
<span class="fc" id="L473">			return;</span>
<span class="fc" id="L474">		}</span>
		try {
<span class="fc" id="L476">			mumYOB = Integer.parseInt(textfieldMumYOB.getText());</span>
<span class="fc" id="L477">		} catch(Exception e) {</span>
<span class="fc" id="L478">			textAreaConsole.setText(&quot;Year of birth must be an integer. \n&quot;);</span>
<span class="fc" id="L479">			return;</span>
<span class="fc" id="L480">		}</span>
		try {
<span class="fc" id="L482">			vYear = Integer.parseInt(textfieldVintageYear.getText());</span>
<span class="fc" id="L483">		} catch(Exception e) {</span>
<span class="fc bfc" id="L484" title="All 2 branches covered.">			if (textfieldVintageYear.getText().equals(&quot;&quot;) == false) { // if input v year is not empty and is invalid</span>
<span class="fc" id="L485">				textAreaConsole.setText(&quot;Vintage year must be an integer. \n&quot;);</span>
<span class="fc" id="L486">				return;</span>
			}
<span class="fc" id="L488">		}</span>
<span class="fc bfc" id="L489" title="All 8 branches covered.">		if (dadYOB &lt; 1880 || dadYOB &gt; 2019 || mumYOB &lt; 1880 || mumYOB &gt; 2019) {</span>
<span class="fc" id="L490">			textAreaConsole.setText(&quot;Year of birth must be within period from 1880 to 2019. \n&quot;);</span>
<span class="fc" id="L491">			return;</span>
		}
<span class="pc bpc" id="L493" title="2 of 6 branches missed.">		if (vYear.equals(Integer.MIN_VALUE) == false &amp;&amp; (vYear &lt; 1880 || vYear &gt; 2019)) {</span>
<span class="nc" id="L494">			textAreaConsole.setText(&quot;Vintage year must be within period from 1880 to 2019. \n&quot;);</span>
<span class="nc" id="L495">			return;</span>
		}
<span class="fc bfc" id="L497" title="All 2 branches covered.">		if (vYear.equals(Integer.MIN_VALUE)) { // vYear not chosen, set to 2019</span>
<span class="fc" id="L498">			vYear = 2019;</span>
		}

<span class="fc" id="L501">		Integer dadRank = AnalyzeNames.getRank(dadYOB, dadName, &quot;M&quot;);</span>
<span class="pc bpc" id="L502" title="1 of 2 branches missed.">		dadRank = dadRank.equals(-1) ? 1 : dadRank;</span>
<span class="fc" id="L503">		Integer mumRank = AnalyzeNames.getRank(mumYOB, mumName, &quot;F&quot;);</span>
<span class="pc bpc" id="L504" title="1 of 2 branches missed.">		mumRank = mumRank.equals(-1) ? 1 : mumRank;</span>
<span class="fc" id="L505">		String boyName = AnalyzeNames.getName(vYear, dadRank, &quot;M&quot;);</span>
<span class="fc" id="L506">		String girlName = AnalyzeNames.getName(vYear, mumRank, &quot;F&quot;);</span>

<span class="fc" id="L508">		textAreaConsole.setText(String.format(&quot;Boy's Name: %s\nGirl's Name: %s&quot;, boyName, girlName)); </span>
<span class="fc" id="L509">	}</span>


	/**
	 *  Task 2
	 * 
	 */
	@FXML
	void reporting2() {
<span class="fc" id="L518">		String oReport = &quot;&quot;;</span>
<span class="fc" id="L519">		String iName = textfieldNamereport2.getText();</span>
//		int first_iyear = Integer.parseInt(textfieldfirstyear_report2.getText());
//		int last_iyear = Integer.parseInt(textfieldlastyear_report2.getText());
<span class="pc bpc" id="L522" title="1 of 2 branches missed.">		String iGender = ((RadioButton) T11.getSelectedToggle()).getText().contentEquals(&quot;Male&quot;) ? &quot;M&quot; : &quot;F&quot;;</span>
<span class="fc" id="L523">		int count_times = 0;</span>
		int first_iyear;
		int last_iyear;
		try {
<span class="fc" id="L527">			first_iyear = Integer.parseInt(textfieldfirstyear_report2.getText());</span>
<span class="nc" id="L528">		} catch(Exception e) {</span>
<span class="nc" id="L529">			textAreaConsole.setText(&quot;Input year must be an integer. \n&quot;);</span>
<span class="nc" id="L530">			return;</span>
<span class="fc" id="L531">		}</span>
		try {
<span class="fc" id="L533">			last_iyear = Integer.parseInt(textfieldlastyear_report2.getText());</span>
<span class="fc" id="L534">		} catch(Exception e) {</span>
<span class="fc" id="L535">			textAreaConsole.setText(&quot;Input year must be an integer. \n&quot;);</span>
<span class="fc" id="L536">			return;</span>
<span class="fc" id="L537">		}</span>

<span class="pc bpc" id="L539" title="2 of 6 branches missed.">		if (first_iyear&lt;1880 || last_iyear&gt;2019 ||first_iyear&gt;last_iyear) {</span>
<span class="fc" id="L540">			oReport = String.format(&quot;The period is invalid. Please enter again.&quot;);</span>
		}

		else {
<span class="fc" id="L544">			oReport = String.format(&quot;|Year\t\t|Rank\t\t|Count\t\t|Percentage\n&quot;);</span>
<span class="fc" id="L545">			oReport += String.format(&quot;_________________________________________________\n&quot;);</span>
<span class="fc bfc" id="L546" title="All 2 branches covered.">			for(int this_year=last_iyear; this_year&gt;=first_iyear;this_year--)</span>
			{
<span class="fc" id="L548">				int count = AnalyzeNames.getcount(this_year, iName, iGender);</span>
<span class="fc" id="L549">				double temp_count = count;</span>
<span class="fc" id="L550">				double babynumber = AnalyzeNames.getbabynumber(this_year);</span>
<span class="fc" id="L551">				double percentage = (temp_count/babynumber)*100;</span>
<span class="fc" id="L552">				oReport += String.format(&quot;%d\t\t%d\t\t\t%d\t\t\t%f\n&quot;,this_year,AnalyzeNames.getRank(this_year, iName, iGender),count,percentage);</span>
<span class="fc bfc" id="L553" title="All 2 branches covered.">				if(count == -1) {count = 0;}</span>
<span class="fc" id="L554">				count_times += count;</span>
			}
<span class="fc bfc" id="L556" title="All 2 branches covered.">			if (count_times == 0) {</span>
<span class="fc" id="L557">				oReport = String.format(&quot;No people used the name in the period.&quot;);</span>
			}
		}    	
<span class="fc" id="L560">		textAreaConsole.setText(oReport);</span>
<span class="fc" id="L561">	}</span>

	/**
	 * Task 5 
	 */
	@FXML
	void reporting5() {
<span class="fc" id="L568">		String oReport = &quot;&quot;;</span>
<span class="fc" id="L569">		String iName = textfieldname_app2.getText();</span>
<span class="pc bpc" id="L570" title="1 of 2 branches missed.">		String iGender = ((RadioButton) T51.getSelectedToggle()).getText().contentEquals(&quot;Male&quot;) ? &quot;M&quot; : &quot;F&quot;;</span>
		int iYOB;
		try {
<span class="fc" id="L573">			iYOB = Integer.parseInt(textfieldyear_app2.getText());</span>
<span class="fc" id="L574">		} catch(Exception e) {</span>
<span class="fc" id="L575">			textAreaConsole.setText(&quot;Input year must be an integer. \n&quot;);</span>
<span class="fc" id="L576">			return;</span>
<span class="fc" id="L577">		}</span>
<span class="pc bpc" id="L578" title="1 of 2 branches missed.">		String iGender_soulmate = ((RadioButton) T52.getSelectedToggle()).getText().contentEquals(&quot;Male&quot;) ? &quot;M&quot; : &quot;F&quot;;</span>
<span class="pc bpc" id="L579" title="1 of 2 branches missed.">		String iPreference = ((RadioButton) T53.getSelectedToggle()).getText().contentEquals(&quot;Older&quot;) ? &quot;O&quot; : &quot;Y&quot;;</span>
<span class="fc" id="L580">		String ouput_name = AnalyzeNames.NK_T5algorithm(iName, iGender, iYOB, iGender_soulmate, iPreference);</span>
<span class="fc" id="L581">		oReport = String.format(&quot;The recommended name is %s.&quot;, ouput_name);</span>
<span class="fc" id="L582">		textAreaConsole.setText(oReport);</span>

<span class="fc" id="L584">	}</span>

}

</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.5.201910111838</span></div></body></html>